# ================================
# VoteAPI Production Environment
# ================================
# IMPORTANT: Copy to docker/env.production and update ALL values
# Usage: docker-compose -f docker-compose.prod.yml --env-file docker/env.production up -d
# ================================

# Server
NODE_ENV=production
PORT=57788
HOST=0.0.0.0
API_BASE_URL=https://api.yourdomain.com
FRONTEND_URL=https://yourdomain.com

# MongoDB (Replica Set)
MONGODB_URI=mongodb://mongo-primary:27017,mongo-secondary:27017,mongo-arbiter:27017/voteapi?replicaSet=rs0
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=CHANGE_THIS_STRONG_PASSWORD

# Redis
REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_ENABLED=true

# JWT (MUST CHANGE!)
JWT_SECRET=GENERATE_STRONG_512_CHAR_SECRET
JWT_EXPIRES_IN=1d
JWT_REFRESH_SECRET=GENERATE_STRONG_768_CHAR_SECRET
JWT_REFRESH_EXPIRES_IN=7d

# Session (MUST CHANGE!)
SESSION_SECRET=GENERATE_STRONG_SESSION_SECRET
SESSION_MAX_AGE=1800000
SESSION_NAME=voteapi.sid

# Email (Production SMTP)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=apikey
SMTP_PASS=YOUR_SENDGRID_API_KEY
EMAIL_SENDER_NAME=VoteAPI
EMAIL_SENDER_EMAIL=noreply@yourdomain.com

# Security
BCRYPT_ROUNDS=14
SECRET_CODE_LENGTH=8
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50
ENCRYPTION_KEY=GENERATE_ENCRYPTION_KEY
TRUST_PROXY=1
HTTPS_ENABLED=true

# CORS
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# Logging
LOG_LEVEL=info
LOG_DIR=./logs
WINSTON_ENABLED=true
AUDIT_LOGGING_ENABLED=true

# Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
SENTRY_ENABLED=true

# Features
FEATURE_WEBSOCKETS=true
FEATURE_REAL_TIME_VOTING=true
FEATURE_NOTIFICATIONS=true
FEATURE_AUDIT_LOGGING=true
DEBUG_MODE=false
ENABLE_SWAGGER=false
